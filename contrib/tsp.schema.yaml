# Rime schema
# encoding: utf-8

schema:
  schema_id: tsp
  name: 挺双拼
  version: "1.0"
  author:
    - 黄挺
  description: |
      以汉语拼音为基础的双拼，对同音字多的音分出第1、2、3声，原型为第4声，轻声并入3声

  dependencies:
    - stroke

switches:
  - name: ascii_mode
    reset: 0
    states: [ 中文, 西文 ]
  - name: full_shape
    states: [ 半角, 全角 ]
  - name: simplification
    states: [ 漢字, 汉字 ]
  - name: ascii_punct
    states: [ 。，, ．， ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - table_translator@custom_phrase
    - reverse_lookup_translator
    - script_translator
  filters:
    - simplifier
    - uniquifier

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba
  delimiter: " '"
  algebra:
    - abbrev/^([a-z]).+$/$1/

translator:
  dictionary: tsp
  spelling_hints: 8
  prism: tsp
  preedit_format:
    - xform/^oa$/A
    - xform/^os$/AI
    - xform/^of$/AN
    - xform/^og$/ANG
    - xform/^od$/AO
    - xform/^ba$/BA
    - xform/^bs$/BAI
    - xform/^bf$/BAN
    - xform/^bg$/BANG
    - xform/^bd$/BAO
    - xform/^bw$/BEI
    - xform/^br$/BEN
    - xform/^bt$/BENG
    - xform/^bi$/BI
    - xform/^bq$/BIAN
    - xform/^bx$/BIAO
    - xform/^bc$/BIE
    - xform/^bn$/BIN
    - xform/^bm$/BING
    - xform/^bo$/BO
    - xform/^bu$/BU
    - xform/^ca$/CA
    - xform/^cs$/CAI
    - xform/^cf$/CAN
    - xform/^cg$/CANG
    - xform/^cd$/CAO
    - xform/^ce$/CE
    - xform/^cw$/CEI
    - xform/^cr$/CEN
    - xform/^ct$/CENG
    - xform/^ea$/CHA
    - xform/^es$/CHAI
    - xform/^ef$/CHAN
    - xform/^eg$/CHANG
    - xform/^ed$/CHAO
    - xform/^ee$/CHE
    - xform/^er$/CHEN
    - xform/^et$/CHENG
    - xform/^ei$/CHI
    - xform/^ex$/CHI1
    - xform/^ec$/CHI2
    - xform/^ev$/CHI3
    - xform/^el$/CHONG
    - xform/^eh$/CHOU
    - xform/^eu$/CHU
    - xform/^eb$/CHU1
    - xform/^en$/CHU2
    - xform/^em$/CHU3
    - xform/^ej$/CHUA
    - xform/^eq$/CHUAI
    - xform/^ep$/CHUAN
    - xform/^ez$/CHUANG
    - xform/^ey$/CHUI
    - xform/^ek$/CHUN
    - xform/^eo$/CHUO
    - xform/^ci$/CI
    - xform/^cl$/CONG
    - xform/^ch$/COU
    - xform/^cu$/CU
    - xform/^cp$/CUAN
    - xform/^cy$/CUI
    - xform/^ck$/CUN
    - xform/^co$/CUO
    - xform/^da$/DA
    - xform/^ds$/DAI
    - xform/^df$/DAN
    - xform/^dg$/DANG
    - xform/^dd$/DAO
    - xform/^de$/DE
    - xform/^dw$/DEI
    - xform/^dr$/DEN
    - xform/^dt$/DENG
    - xform/^di$/DI
    - xform/^dj$/DIA
    - xform/^dq$/DIAN
    - xform/^dx$/DIAO
    - xform/^dc$/DIE
    - xform/^dn$/DIN
    - xform/^dm$/DING
    - xform/^db$/DIU
    - xform/^dl$/DONG
    - xform/^dh$/DOU
    - xform/^du$/DU
    - xform/^dp$/DUAN
    - xform/^dy$/DUI
    - xform/^dk$/DUN
    - xform/^do$/DUO
    - xform/^oe$/E
    - xform/^ie$/ê
    - xform/^ow$/EI
    - xform/^or$/EN
    - xform/^ot$/ENG
    - xform/^ol$/ER
    - xform/^fa$/FA
    - xform/^ff$/FAN
    - xform/^fg$/FANG
    - xform/^fw$/FEI
    - xform/^fr$/FEN
    - xform/^ft$/FENG
    - xform/^fx$/FIAO
    - xform/^fo$/FO
    - xform/^fh$/FOU
    - xform/^fu$/FU
    - xform/^fb$/FU1
    - xform/^fn$/FU2
    - xform/^fm$/FU3
    - xform/^ga$/GA
    - xform/^gs$/GAI
    - xform/^gf$/GAN
    - xform/^gg$/GANG
    - xform/^gd$/GAO
    - xform/^ge$/GE
    - xform/^gw$/GEI
    - xform/^gr$/GEN
    - xform/^gt$/GENG
    - xform/^gl$/GONG
    - xform/^gh$/GOU
    - xform/^gu$/GU
    - xform/^gj$/GUA
    - xform/^gq$/GUAI
    - xform/^gp$/GUAN
    - xform/^gz$/GUANG
    - xform/^gy$/GUI
    - xform/^gk$/GUN
    - xform/^go$/GUO
    - xform/^ha$/HA
    - xform/^hs$/HAI
    - xform/^hf$/HAN
    - xform/^hg$/HANG
    - xform/^hd$/HAO
    - xform/^he$/HE
    - xform/^hw$/HEI
    - xform/^hr$/HEN
    - xform/^ht$/HENG
    - xform/^wm$/HM
    - xform/^wn$/HNG
    - xform/^hl$/HONG
    - xform/^hh$/HOU
    - xform/^hu$/HU
    - xform/^hj$/HUA
    - xform/^hq$/HUAI
    - xform/^hp$/HUAN
    - xform/^hz$/HUANG
    - xform/^hy$/HUI
    - xform/^hk$/HUN
    - xform/^ho$/HUO
    - xform/^ji$/JI
    - xform/^jw$/JI1
    - xform/^je$/JI2
    - xform/^jr$/JI3
    - xform/^jj$/JIA
    - xform/^jq$/JIAN
    - xform/^jf$/JIAN1
    - xform/^jg$/JIAN2
    - xform/^jh$/JIAN3
    - xform/^jz$/JIANG
    - xform/^gx$/JIANG1
    - xform/^gc$/JIANG2
    - xform/^gv$/JIANG3
    - xform/^jx$/JIAO
    - xform/^ja$/JIAO1
    - xform/^js$/JIAO2
    - xform/^jd$/JIAO3
    - xform/^jc$/JIE
    - xform/^zx$/JIE1
    - xform/^zc$/JIE2
    - xform/^zv$/JIE3
    - xform/^jn$/JIN
    - xform/^jm$/JING
    - xform/^gb$/JING1
    - xform/^gn$/JING2
    - xform/^gm$/JING3
    - xform/^jl$/JIONG
    - xform/^jb$/JIU
    - xform/^ju$/JU
    - xform/^zb$/JU1
    - xform/^zn$/JU2
    - xform/^zm$/JU3
    - xform/^jp$/JUAN
    - xform/^jy$/JUE
    - xform/^jk$/JUN
    - xform/^ka$/KA
    - xform/^ks$/KAI
    - xform/^kf$/KAN
    - xform/^kg$/KANG
    - xform/^kd$/KAO
    - xform/^ke$/KE
    - xform/^kw$/KEI
    - xform/^kr$/KEN
    - xform/^kt$/KENG
    - xform/^kl$/KONG
    - xform/^kh$/KOU
    - xform/^ku$/KU
    - xform/^kj$/KUA
    - xform/^kq$/KUAI
    - xform/^kp$/KUAN
    - xform/^kz$/KUANG
    - xform/^ky$/KUI
    - xform/^kk$/KUN
    - xform/^ko$/KUO
    - xform/^la$/LA
    - xform/^ls$/LAI
    - xform/^lf$/LAN
    - xform/^lg$/LANG
    - xform/^ld$/LAO
    - xform/^le$/LE
    - xform/^lw$/LEI
    - xform/^lt$/LENG
    - xform/^li$/LI
    - xform/^rx$/LI1
    - xform/^rc$/LI2
    - xform/^rv$/LI3
    - xform/^lj$/LIA
    - xform/^lq$/LIAN
    - xform/^lz$/LIANG
    - xform/^lx$/LIAO
    - xform/^lc$/LIE
    - xform/^ln$/LIN
    - xform/^lm$/LING
    - xform/^lb$/LIU
    - xform/^io$/LO
    - xform/^ll$/LONG
    - xform/^lh$/LOU
    - xform/^lu$/LU
    - xform/^lv$/LÜ
    - xform/^lp$/LUAN
    - xform/^ly$/LÜE
    - xform/^lk$/LUN
    - xform/^lo$/LUO
    - xform/^rm$/M
    - xform/^ma$/MA
    - xform/^ms$/MAI
    - xform/^mf$/MAN
    - xform/^mg$/MANG
    - xform/^md$/MAO
    - xform/^me$/ME
    - xform/^mw$/MEI
    - xform/^mr$/MEN
    - xform/^mt$/MENG
    - xform/^mi$/MI
    - xform/^mq$/MIAN
    - xform/^mx$/MIAO
    - xform/^mc$/MIE
    - xform/^mn$/MIN
    - xform/^mm$/MING
    - xform/^mb$/MIU
    - xform/^mo$/MO
    - xform/^mh$/MOU
    - xform/^mu$/MU
    - xform/^rn$/N
    - xform/^na$/NA
    - xform/^ns$/NAI
    - xform/^nf$/NAN
    - xform/^ng$/NANG
    - xform/^nd$/NAO
    - xform/^ne$/NE
    - xform/^nw$/NEI
    - xform/^nr$/NEN
    - xform/^nt$/NENG
    - xform/^ig$/NG
    - xform/^ni$/NI
    - xform/^nj$/NIA
    - xform/^nq$/NIAN
    - xform/^nz$/NIANG
    - xform/^nx$/NIAO
    - xform/^nc$/NIE
    - xform/^nn$/NIN
    - xform/^nm$/NING
    - xform/^nb$/NIU
    - xform/^nl$/NONG
    - xform/^nh$/NOU
    - xform/^nu$/NU
    - xform/^nv$/NÜ
    - xform/^np$/NUAN
    - xform/^ny$/NÜE
    - xform/^nk$/NUN
    - xform/^no$/NUO
    - xform/^oo$/O
    - xform/^oh$/OU
    - xform/^pa$/PA
    - xform/^ps$/PAI
    - xform/^pf$/PAN
    - xform/^pg$/PANG
    - xform/^pd$/PAO
    - xform/^pw$/PEI
    - xform/^pr$/PEN
    - xform/^pt$/PENG
    - xform/^pi$/PI
    - xform/^pj$/PIA
    - xform/^pq$/PIAN
    - xform/^px$/PIAO
    - xform/^pc$/PIE
    - xform/^pn$/PIN
    - xform/^pm$/PING
    - xform/^po$/PO
    - xform/^ph$/POU
    - xform/^pu$/PU
    - xform/^qi$/QI
    - xform/^qw$/QI1
    - xform/^qe$/QI2
    - xform/^qr$/QI3
    - xform/^qj$/QIA
    - xform/^qq$/QIAN
    - xform/^qf$/QIAN1
    - xform/^qg$/QIAN2
    - xform/^qh$/QIAN3
    - xform/^qz$/QIANG
    - xform/^kx$/QIANG1
    - xform/^kc$/QIANG2
    - xform/^kv$/QIANG3
    - xform/^qx$/QIAO
    - xform/^qa$/QIAO1
    - xform/^qs$/QIAO2
    - xform/^qd$/QIAO3
    - xform/^qc$/QIE
    - xform/^cx$/QIE1
    - xform/^cc$/QIE2
    - xform/^cv$/QIE3
    - xform/^qn$/QIN
    - xform/^qm$/QING
    - xform/^kb$/QING1
    - xform/^kn$/QING2
    - xform/^km$/QING3
    - xform/^ql$/QIONG
    - xform/^qb$/QIU
    - xform/^qu$/QU
    - xform/^cb$/QU1
    - xform/^cn$/QU2
    - xform/^cm$/QU3
    - xform/^qp$/QUAN
    - xform/^qy$/QUE
    - xform/^qk$/QUN
    - xform/^rf$/RAN
    - xform/^rg$/RANG
    - xform/^rd$/RAO
    - xform/^re$/RE
    - xform/^rr$/REN
    - xform/^rt$/RENG
    - xform/^ri$/RI
    - xform/^rl$/RONG
    - xform/^rh$/ROU
    - xform/^ru$/RU
    - xform/^rj$/RUA
    - xform/^rp$/RUAN
    - xform/^ry$/RUI
    - xform/^rk$/RUN
    - xform/^ro$/RUO
    - xform/^sa$/SA
    - xform/^ss$/SAI
    - xform/^sf$/SAN
    - xform/^sg$/SANG
    - xform/^sd$/SAO
    - xform/^se$/SE
    - xform/^sr$/SEN
    - xform/^st$/SENG
    - xform/^va$/SHA
    - xform/^vs$/SHAI
    - xform/^vf$/SHAN
    - xform/^vg$/SHANG
    - xform/^vd$/SHAO
    - xform/^ve$/SHE
    - xform/^vw$/SHEI
    - xform/^vr$/SHEN
    - xform/^vt$/SHENG
    - xform/^vi$/SHI
    - xform/^vx$/SHI1
    - xform/^vc$/SHI2
    - xform/^vv$/SHI3
    - xform/^vh$/SHOU
    - xform/^vu$/SHU
    - xform/^vb$/SHU1
    - xform/^vn$/SHU2
    - xform/^vm$/SHU3
    - xform/^vj$/SHUA
    - xform/^vq$/SHUAI
    - xform/^vp$/SHUAN
    - xform/^vz$/SHUANG
    - xform/^vy$/SHUI
    - xform/^vk$/SHUN
    - xform/^vo$/SHUO
    - xform/^si$/SI
    - xform/^sl$/SONG
    - xform/^sh$/SOU
    - xform/^su$/SU
    - xform/^sp$/SUAN
    - xform/^sy$/SUI
    - xform/^sk$/SUN
    - xform/^so$/SUO
    - xform/^ta$/TA
    - xform/^ts$/TAI
    - xform/^tf$/TAN
    - xform/^tg$/TANG
    - xform/^td$/TAO
    - xform/^te$/TE
    - xform/^tw$/TEI
    - xform/^tt$/TENG
    - xform/^ti$/TI
    - xform/^tq$/TIAN
    - xform/^tx$/TIAO
    - xform/^tc$/TIE
    - xform/^tm$/TING
    - xform/^tl$/TONG
    - xform/^th$/TOU
    - xform/^tu$/TU
    - xform/^tp$/TUAN
    - xform/^ty$/TUI
    - xform/^tk$/TUN
    - xform/^to$/TUO
    - xform/^wa$/WA
    - xform/^ws$/WAI
    - xform/^wf$/WAN
    - xform/^wg$/WANG
    - xform/^ww$/WEI
    - xform/^oy$/WEI1
    - xform/^iy$/WEI2
    - xform/^uy$/WEI3
    - xform/^wr$/WEN
    - xform/^wt$/WENG
    - xform/^wo$/WO
    - xform/^wl$/WONG
    - xform/^wu$/WU
    - xform/^ou$/WU1
    - xform/^iu$/WU2
    - xform/^uu$/WU3
    - xform/^xi$/XI
    - xform/^xw$/XI1
    - xform/^xe$/XI2
    - xform/^xr$/XI3
    - xform/^xj$/XIA
    - xform/^xq$/XIAN
    - xform/^xf$/XIAN1
    - xform/^xg$/XIAN2
    - xform/^xh$/XIAN3
    - xform/^xz$/XIANG
    - xform/^hx$/XIANG1
    - xform/^hc$/XIANG2
    - xform/^hv$/XIANG3
    - xform/^xx$/XIAO
    - xform/^xa$/XIAO1
    - xform/^xs$/XIAO2
    - xform/^xd$/XIAO3
    - xform/^xc$/XIE
    - xform/^sx$/XIE1
    - xform/^sc$/XIE2
    - xform/^sv$/XIE3
    - xform/^xn$/XIN
    - xform/^xm$/XING
    - xform/^hb$/XING1
    - xform/^hn$/XING2
    - xform/^hm$/XING3
    - xform/^xl$/XIONG
    - xform/^xb$/XIU
    - xform/^xu$/XU
    - xform/^sb$/XU1
    - xform/^sn$/XU2
    - xform/^sm$/XU3
    - xform/^xp$/XUAN
    - xform/^xy$/XUE
    - xform/^xk$/XUN
    - xform/^ya$/YA
    - xform/^oj$/YA1
    - xform/^ij$/YA2
    - xform/^uj$/YA3
    - xform/^ys$/YAI
    - xform/^yf$/YAN
    - xform/^oq$/YAN1
    - xform/^iq$/YAN2
    - xform/^uq$/YAN3
    - xform/^yg$/YANG
    - xform/^oz$/YANG1
    - xform/^iz$/YANG2
    - xform/^uz$/YANG3
    - xform/^yd$/YAO
    - xform/^ox$/YAO1
    - xform/^ix$/YAO2
    - xform/^ux$/YAO3
    - xform/^ye$/YE
    - xform/^oc$/YE1
    - xform/^ic$/YE2
    - xform/^uc$/YE3
    - xform/^yi$/YI
    - xform/^oi$/YI1
    - xform/^ii$/YI2
    - xform/^ui$/YI3
    - xform/^yn$/YIN
    - xform/^on$/YIN1
    - xform/^in$/YIN2
    - xform/^un$/YIN3
    - xform/^ym$/YING
    - xform/^om$/YING1
    - xform/^im$/YING2
    - xform/^um$/YING3
    - xform/^yo$/YO
    - xform/^yl$/YONG
    - xform/^yh$/YOU
    - xform/^ob$/YOU1
    - xform/^ib$/YOU2
    - xform/^ub$/YOU3
    - xform/^yu$/YU
    - xform/^ov$/YU1
    - xform/^iv$/YU2
    - xform/^uv$/YU3
    - xform/^yp$/YUAN
    - xform/^op$/YUAN1
    - xform/^ip$/YUAN2
    - xform/^up$/YUAN3
    - xform/^yy$/YUE
    - xform/^yk$/YUN
    - xform/^ok$/YUN1
    - xform/^ik$/YUN2
    - xform/^uk$/YUN3
    - xform/^za$/ZA
    - xform/^zs$/ZAI
    - xform/^zf$/ZAN
    - xform/^zg$/ZANG
    - xform/^zd$/ZAO
    - xform/^ze$/ZE
    - xform/^zw$/ZEI
    - xform/^zr$/ZEN
    - xform/^zt$/ZENG
    - xform/^aa$/ZHA
    - xform/^as$/ZHAI
    - xform/^af$/ZHAN
    - xform/^ag$/ZHANG
    - xform/^ad$/ZHAO
    - xform/^ae$/ZHE
    - xform/^aw$/ZHEI
    - xform/^ar$/ZHEN
    - xform/^at$/ZHENG
    - xform/^ai$/ZHI
    - xform/^ax$/ZHI1
    - xform/^ac$/ZHI2
    - xform/^av$/ZHI3
    - xform/^al$/ZHONG
    - xform/^ah$/ZHOU
    - xform/^au$/ZHU
    - xform/^ab$/ZHU1
    - xform/^an$/ZHU2
    - xform/^am$/ZHU3
    - xform/^aj$/ZHUA
    - xform/^aq$/ZHUAI
    - xform/^ap$/ZHUAN
    - xform/^az$/ZHUANG
    - xform/^ay$/ZHUI
    - xform/^ak$/ZHUN
    - xform/^ao$/ZHUO
    - xform/^zi$/ZI
    - xform/^zl$/ZONG
    - xform/^zh$/ZOU
    - xform/^zu$/ZU
    - xform/^zp$/ZUAN
    - xform/^zy$/ZUI
    - xform/^zk$/ZUN
    - xform/^zo$/ZUO
    - xlit/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/

custom_phrase:
  dictionary: ""
  user_dict: custom_phrase
  db_class: stabledb
  enable_completion: false
  enable_sentence: false
  initial_quality: 1

reverse_lookup:
  dictionary: stroke
  enable_completion: true
  prefix: "`"
  suffix: "'"
  tips: 〔筆畫〕
  preedit_format:
    - xlit/hspnz/一丨丿丶乙/
  comment_format:
    - xform/([nl])v/$1ü/

punctuator:
  import_preset: symbols

key_binder:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    punct: "^/([0-9]0?|[a-z]+)$"
    reverse_lookup: "`[a-z]*'?$"
